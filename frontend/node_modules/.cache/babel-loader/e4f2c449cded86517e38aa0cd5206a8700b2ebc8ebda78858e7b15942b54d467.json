{"ast":null,"code":"import React, { useState, useMemo } from 'react';\nimport { SortMinor } from '@shopify/polaris-icons';\nimport { FilterButton } from '../FilterButton/FilterButton.js';\nimport { ChoiceList } from '../../../ChoiceList/ChoiceList.js';\nimport { DirectionButton } from './components/DirectionButton/DirectionButton.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { Tooltip } from '../../../Tooltip/Tooltip.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Popover } from '../../../Popover/Popover.js';\nimport { Box } from '../../../Box/Box.js';\nlet SortButtonDirection;\n(function (SortButtonDirection) {\n  SortButtonDirection[\"Asc\"] = \"asc\";\n  SortButtonDirection[\"Desc\"] = \"desc\";\n})(SortButtonDirection || (SortButtonDirection = {}));\nfunction SortButton(_ref) {\n  let {\n    choices,\n    selected,\n    onChange,\n    disabled,\n    onChangeKey,\n    onChangeDirection\n  } = _ref;\n  const i18n = useI18n();\n  const [active, setActive] = useState(false);\n  const [selectedValueKey, selectedDirection] = selected[0].split(' ');\n  function handleClick() {\n    setActive(pastActive => !pastActive);\n  }\n  function handleClose() {\n    setActive(false);\n  }\n  function handleChangeChoiceList(sel) {\n    if (onChangeKey) {\n      const [key] = sel[0].split(' ');\n      onChangeKey(key);\n    } else {\n      onChange(sel);\n    }\n  }\n  function handleChangeDirection(sel) {\n    if (onChangeDirection) {\n      const [, direction] = sel[0].split(' ');\n      onChangeDirection(direction);\n    } else {\n      onChange(sel);\n    }\n  }\n  const choiceListChoices = useMemo(() => {\n    const choiceCategories = choices.reduce((acc, curr) => {\n      const alreadyExists = acc.some(option => option.label === curr.label);\n      const [, currentValueDirection] = curr.value.split(' ');\n      const isSameDirection = currentValueDirection === selectedDirection;\n      if (!alreadyExists) {\n        return [...acc, curr];\n      }\n      if (isSameDirection) {\n        return acc.map(option => {\n          if (option.label === curr.label) {\n            return curr;\n          }\n          return option;\n        });\n      }\n      return acc;\n    }, []);\n    return choiceCategories;\n  }, [choices, selectedDirection]);\n  const selectedChoices = choices.filter(choice => {\n    const [currentKey] = choice.value.split(' ');\n    return currentKey === selectedValueKey;\n  });\n  const sortButton = /*#__PURE__*/React.createElement(Tooltip, {\n    content: i18n.translate('Polaris.IndexFilters.SortButton.tooltip'),\n    preferredPosition: \"above\",\n    hoverDelay: 400\n  }, /*#__PURE__*/React.createElement(FilterButton, {\n    onClick: handleClick,\n    \"aria-label\": i18n.translate('Polaris.IndexFilters.SortButton.ariaLabel'),\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: SortMinor,\n    color: \"base\"\n  })));\n  return /*#__PURE__*/React.createElement(Popover, {\n    active: active && !disabled,\n    activator: sortButton,\n    autofocusTarget: \"first-node\",\n    onClose: handleClose,\n    fluidContent: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    minWidth: \"148px\",\n    padding: \"4\",\n    borderBlockEndWidth: \"1\",\n    borderColor: \"border-subdued\"\n  }, /*#__PURE__*/React.createElement(ChoiceList, {\n    title: i18n.translate('Polaris.IndexFilters.SortButton.title'),\n    choices: choiceListChoices,\n    selected: selected,\n    onChange: handleChangeChoiceList\n  })), /*#__PURE__*/React.createElement(Box, {\n    padding: \"4\"\n  }, /*#__PURE__*/React.createElement(DirectionButton, {\n    direction: \"asc\",\n    active: selectedDirection === SortButtonDirection.Asc,\n    onClick: handleChangeDirection,\n    value: selectedChoices?.[0]?.value\n  }, selectedChoices?.[0]?.directionLabel), /*#__PURE__*/React.createElement(DirectionButton, {\n    direction: \"desc\",\n    active: selectedDirection === SortButtonDirection.Desc,\n    onClick: handleChangeDirection,\n    value: selectedChoices?.[1]?.value\n  }, selectedChoices?.[1]?.directionLabel)));\n}\nexport { SortButton, SortButtonDirection };","map":{"version":3,"names":["React","useState","useMemo","SortMinor","FilterButton","ChoiceList","DirectionButton","useI18n","Tooltip","Icon","Popover","Box","SortButtonDirection","SortButton","_ref","choices","selected","onChange","disabled","onChangeKey","onChangeDirection","i18n","active","setActive","selectedValueKey","selectedDirection","split","handleClick","pastActive","handleClose","handleChangeChoiceList","sel","key","handleChangeDirection","direction","choiceListChoices","choiceCategories","reduce","acc","curr","alreadyExists","some","option","label","currentValueDirection","value","isSameDirection","map","selectedChoices","filter","choice","currentKey","sortButton","createElement","content","translate","preferredPosition","hoverDelay","onClick","source","color","activator","autofocusTarget","onClose","fluidContent","minWidth","padding","borderBlockEndWidth","borderColor","title","Asc","directionLabel","Desc"],"sources":["/Users/arina/Documents/concordia-bootcamps/MyFinalProject/frontend/node_modules/@shopify/polaris/build/esm/components/IndexFilters/components/SortButton/SortButton.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { SortMinor } from '@shopify/polaris-icons';\nimport { FilterButton } from '../FilterButton/FilterButton.js';\nimport { ChoiceList } from '../../../ChoiceList/ChoiceList.js';\nimport { DirectionButton } from './components/DirectionButton/DirectionButton.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { Tooltip } from '../../../Tooltip/Tooltip.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Popover } from '../../../Popover/Popover.js';\nimport { Box } from '../../../Box/Box.js';\n\nlet SortButtonDirection;\n(function (SortButtonDirection) {\n  SortButtonDirection[\"Asc\"] = \"asc\";\n  SortButtonDirection[\"Desc\"] = \"desc\";\n})(SortButtonDirection || (SortButtonDirection = {}));\nfunction SortButton({\n  choices,\n  selected,\n  onChange,\n  disabled,\n  onChangeKey,\n  onChangeDirection\n}) {\n  const i18n = useI18n();\n  const [active, setActive] = useState(false);\n  const [selectedValueKey, selectedDirection] = selected[0].split(' ');\n  function handleClick() {\n    setActive(pastActive => !pastActive);\n  }\n  function handleClose() {\n    setActive(false);\n  }\n  function handleChangeChoiceList(sel) {\n    if (onChangeKey) {\n      const [key] = sel[0].split(' ');\n      onChangeKey(key);\n    } else {\n      onChange(sel);\n    }\n  }\n  function handleChangeDirection(sel) {\n    if (onChangeDirection) {\n      const [, direction] = sel[0].split(' ');\n      onChangeDirection(direction);\n    } else {\n      onChange(sel);\n    }\n  }\n  const choiceListChoices = useMemo(() => {\n    const choiceCategories = choices.reduce((acc, curr) => {\n      const alreadyExists = acc.some(option => option.label === curr.label);\n      const [, currentValueDirection] = curr.value.split(' ');\n      const isSameDirection = currentValueDirection === selectedDirection;\n      if (!alreadyExists) {\n        return [...acc, curr];\n      }\n      if (isSameDirection) {\n        return acc.map(option => {\n          if (option.label === curr.label) {\n            return curr;\n          }\n          return option;\n        });\n      }\n      return acc;\n    }, []);\n    return choiceCategories;\n  }, [choices, selectedDirection]);\n  const selectedChoices = choices.filter(choice => {\n    const [currentKey] = choice.value.split(' ');\n    return currentKey === selectedValueKey;\n  });\n  const sortButton = /*#__PURE__*/React.createElement(Tooltip, {\n    content: i18n.translate('Polaris.IndexFilters.SortButton.tooltip'),\n    preferredPosition: \"above\",\n    hoverDelay: 400\n  }, /*#__PURE__*/React.createElement(FilterButton, {\n    onClick: handleClick,\n    \"aria-label\": i18n.translate('Polaris.IndexFilters.SortButton.ariaLabel'),\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: SortMinor,\n    color: \"base\"\n  })));\n  return /*#__PURE__*/React.createElement(Popover, {\n    active: active && !disabled,\n    activator: sortButton,\n    autofocusTarget: \"first-node\",\n    onClose: handleClose,\n    fluidContent: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    minWidth: \"148px\",\n    padding: \"4\",\n    borderBlockEndWidth: \"1\",\n    borderColor: \"border-subdued\"\n  }, /*#__PURE__*/React.createElement(ChoiceList, {\n    title: i18n.translate('Polaris.IndexFilters.SortButton.title'),\n    choices: choiceListChoices,\n    selected: selected,\n    onChange: handleChangeChoiceList\n  })), /*#__PURE__*/React.createElement(Box, {\n    padding: \"4\"\n  }, /*#__PURE__*/React.createElement(DirectionButton, {\n    direction: \"asc\",\n    active: selectedDirection === SortButtonDirection.Asc,\n    onClick: handleChangeDirection,\n    value: selectedChoices?.[0]?.value\n  }, selectedChoices?.[0]?.directionLabel), /*#__PURE__*/React.createElement(DirectionButton, {\n    direction: \"desc\",\n    active: selectedDirection === SortButtonDirection.Desc,\n    onClick: handleChangeDirection,\n    value: selectedChoices?.[1]?.value\n  }, selectedChoices?.[1]?.directionLabel)));\n}\n\nexport { SortButton, SortButtonDirection };\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AAChD,SAASC,SAAS,QAAQ,wBAAwB;AAClD,SAASC,YAAY,QAAQ,iCAAiC;AAC9D,SAASC,UAAU,QAAQ,mCAAmC;AAC9D,SAASC,eAAe,QAAQ,iDAAiD;AACjF,SAASC,OAAO,QAAQ,qCAAqC;AAC7D,SAASC,OAAO,QAAQ,6BAA6B;AACrD,SAASC,IAAI,QAAQ,uBAAuB;AAC5C,SAASC,OAAO,QAAQ,6BAA6B;AACrD,SAASC,GAAG,QAAQ,qBAAqB;AAEzC,IAAIC,mBAAmB;AACvB,CAAC,UAAUA,mBAAmB,EAAE;EAC9BA,mBAAmB,CAAC,KAAK,CAAC,GAAG,KAAK;EAClCA,mBAAmB,CAAC,MAAM,CAAC,GAAG,MAAM;AACtC,CAAC,EAAEA,mBAAmB,KAAKA,mBAAmB,GAAG,CAAC,CAAC,CAAC,CAAC;AACrD,SAASC,UAAUA,CAAAC,IAAA,EAOhB;EAAA,IAPiB;IAClBC,OAAO;IACPC,QAAQ;IACRC,QAAQ;IACRC,QAAQ;IACRC,WAAW;IACXC;EACF,CAAC,GAAAN,IAAA;EACC,MAAMO,IAAI,GAAGd,OAAO,CAAC,CAAC;EACtB,MAAM,CAACe,MAAM,EAAEC,SAAS,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACuB,gBAAgB,EAAEC,iBAAiB,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC,CAACU,KAAK,CAAC,GAAG,CAAC;EACpE,SAASC,WAAWA,CAAA,EAAG;IACrBJ,SAAS,CAACK,UAAU,IAAI,CAACA,UAAU,CAAC;EACtC;EACA,SAASC,WAAWA,CAAA,EAAG;IACrBN,SAAS,CAAC,KAAK,CAAC;EAClB;EACA,SAASO,sBAAsBA,CAACC,GAAG,EAAE;IACnC,IAAIZ,WAAW,EAAE;MACf,MAAM,CAACa,GAAG,CAAC,GAAGD,GAAG,CAAC,CAAC,CAAC,CAACL,KAAK,CAAC,GAAG,CAAC;MAC/BP,WAAW,CAACa,GAAG,CAAC;IAClB,CAAC,MAAM;MACLf,QAAQ,CAACc,GAAG,CAAC;IACf;EACF;EACA,SAASE,qBAAqBA,CAACF,GAAG,EAAE;IAClC,IAAIX,iBAAiB,EAAE;MACrB,MAAM,GAAGc,SAAS,CAAC,GAAGH,GAAG,CAAC,CAAC,CAAC,CAACL,KAAK,CAAC,GAAG,CAAC;MACvCN,iBAAiB,CAACc,SAAS,CAAC;IAC9B,CAAC,MAAM;MACLjB,QAAQ,CAACc,GAAG,CAAC;IACf;EACF;EACA,MAAMI,iBAAiB,GAAGjC,OAAO,CAAC,MAAM;IACtC,MAAMkC,gBAAgB,GAAGrB,OAAO,CAACsB,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;MACrD,MAAMC,aAAa,GAAGF,GAAG,CAACG,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACC,KAAK,KAAKJ,IAAI,CAACI,KAAK,CAAC;MACrE,MAAM,GAAGC,qBAAqB,CAAC,GAAGL,IAAI,CAACM,KAAK,CAACnB,KAAK,CAAC,GAAG,CAAC;MACvD,MAAMoB,eAAe,GAAGF,qBAAqB,KAAKnB,iBAAiB;MACnE,IAAI,CAACe,aAAa,EAAE;QAClB,OAAO,CAAC,GAAGF,GAAG,EAAEC,IAAI,CAAC;MACvB;MACA,IAAIO,eAAe,EAAE;QACnB,OAAOR,GAAG,CAACS,GAAG,CAACL,MAAM,IAAI;UACvB,IAAIA,MAAM,CAACC,KAAK,KAAKJ,IAAI,CAACI,KAAK,EAAE;YAC/B,OAAOJ,IAAI;UACb;UACA,OAAOG,MAAM;QACf,CAAC,CAAC;MACJ;MACA,OAAOJ,GAAG;IACZ,CAAC,EAAE,EAAE,CAAC;IACN,OAAOF,gBAAgB;EACzB,CAAC,EAAE,CAACrB,OAAO,EAAEU,iBAAiB,CAAC,CAAC;EAChC,MAAMuB,eAAe,GAAGjC,OAAO,CAACkC,MAAM,CAACC,MAAM,IAAI;IAC/C,MAAM,CAACC,UAAU,CAAC,GAAGD,MAAM,CAACL,KAAK,CAACnB,KAAK,CAAC,GAAG,CAAC;IAC5C,OAAOyB,UAAU,KAAK3B,gBAAgB;EACxC,CAAC,CAAC;EACF,MAAM4B,UAAU,GAAG,aAAapD,KAAK,CAACqD,aAAa,CAAC7C,OAAO,EAAE;IAC3D8C,OAAO,EAAEjC,IAAI,CAACkC,SAAS,CAAC,yCAAyC,CAAC;IAClEC,iBAAiB,EAAE,OAAO;IAC1BC,UAAU,EAAE;EACd,CAAC,EAAE,aAAazD,KAAK,CAACqD,aAAa,CAACjD,YAAY,EAAE;IAChDsD,OAAO,EAAE/B,WAAW;IACpB,YAAY,EAAEN,IAAI,CAACkC,SAAS,CAAC,2CAA2C,CAAC;IACzErC,QAAQ,EAAEA;EACZ,CAAC,EAAE,aAAalB,KAAK,CAACqD,aAAa,CAAC5C,IAAI,EAAE;IACxCkD,MAAM,EAAExD,SAAS;IACjByD,KAAK,EAAE;EACT,CAAC,CAAC,CAAC,CAAC;EACJ,OAAO,aAAa5D,KAAK,CAACqD,aAAa,CAAC3C,OAAO,EAAE;IAC/CY,MAAM,EAAEA,MAAM,IAAI,CAACJ,QAAQ;IAC3B2C,SAAS,EAAET,UAAU;IACrBU,eAAe,EAAE,YAAY;IAC7BC,OAAO,EAAElC,WAAW;IACpBmC,YAAY,EAAE;EAChB,CAAC,EAAE,aAAahE,KAAK,CAACqD,aAAa,CAAC1C,GAAG,EAAE;IACvCsD,QAAQ,EAAE,OAAO;IACjBC,OAAO,EAAE,GAAG;IACZC,mBAAmB,EAAE,GAAG;IACxBC,WAAW,EAAE;EACf,CAAC,EAAE,aAAapE,KAAK,CAACqD,aAAa,CAAChD,UAAU,EAAE;IAC9CgE,KAAK,EAAEhD,IAAI,CAACkC,SAAS,CAAC,uCAAuC,CAAC;IAC9DxC,OAAO,EAAEoB,iBAAiB;IAC1BnB,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEa;EACZ,CAAC,CAAC,CAAC,EAAE,aAAa9B,KAAK,CAACqD,aAAa,CAAC1C,GAAG,EAAE;IACzCuD,OAAO,EAAE;EACX,CAAC,EAAE,aAAalE,KAAK,CAACqD,aAAa,CAAC/C,eAAe,EAAE;IACnD4B,SAAS,EAAE,KAAK;IAChBZ,MAAM,EAAEG,iBAAiB,KAAKb,mBAAmB,CAAC0D,GAAG;IACrDZ,OAAO,EAAEzB,qBAAqB;IAC9BY,KAAK,EAAEG,eAAe,GAAG,CAAC,CAAC,EAAEH;EAC/B,CAAC,EAAEG,eAAe,GAAG,CAAC,CAAC,EAAEuB,cAAc,CAAC,EAAE,aAAavE,KAAK,CAACqD,aAAa,CAAC/C,eAAe,EAAE;IAC1F4B,SAAS,EAAE,MAAM;IACjBZ,MAAM,EAAEG,iBAAiB,KAAKb,mBAAmB,CAAC4D,IAAI;IACtDd,OAAO,EAAEzB,qBAAqB;IAC9BY,KAAK,EAAEG,eAAe,GAAG,CAAC,CAAC,EAAEH;EAC/B,CAAC,EAAEG,eAAe,GAAG,CAAC,CAAC,EAAEuB,cAAc,CAAC,CAAC,CAAC;AAC5C;AAEA,SAAS1D,UAAU,EAAED,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}