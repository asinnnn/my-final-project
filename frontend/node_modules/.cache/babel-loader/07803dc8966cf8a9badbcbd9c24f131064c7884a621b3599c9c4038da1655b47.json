{"ast":null,"code":"import React, { useRef, useState, useEffect } from 'react';\nimport { CaretDownMinor, CancelSmallMinor } from '@shopify/polaris-icons';\nimport { useToggle } from '../../../../utilities/use-toggle.js';\nimport { useBreakpoints } from '../../../../utilities/breakpoints.js';\nimport { classNames } from '../../../../utilities/css.js';\nimport styles from './FilterPill.scss.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { Text } from '../../../Text/Text.js';\nimport { HorizontalStack } from '../../../HorizontalStack/HorizontalStack.js';\nimport { UnstyledButton } from '../../../UnstyledButton/UnstyledButton.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Button } from '../../../Button/Button.js';\nimport { Popover } from '../../../Popover/Popover.js';\nimport { VerticalStack } from '../../../VerticalStack/VerticalStack.js';\nfunction FilterPill(_ref) {\n  let {\n    filterKey,\n    label,\n    filter,\n    disabled,\n    hideClearButton,\n    selected,\n    initialActive,\n    closeOnChildOverlayClick,\n    onRemove,\n    onClick\n  } = _ref;\n  const i18n = useI18n();\n  const {\n    mdDown\n  } = useBreakpoints();\n  const elementRef = useRef(null);\n  const {\n    value: focused,\n    setTrue: setFocusedTrue,\n    setFalse: setFocusedFalse\n  } = useToggle(false);\n  const [popoverActive, setPopoverActive] = useState(initialActive);\n  useEffect(() => {\n    const node = elementRef.current;\n    if (!node || !popoverActive) {\n      return;\n    }\n    const parent = node.parentElement?.parentElement;\n    if (!parent) {\n      return;\n    }\n    parent.scroll?.({\n      left: node.offsetLeft\n    });\n  }, [elementRef, popoverActive]);\n  const togglePopoverActive = () => {\n    if (filter) {\n      setPopoverActive(popoverActive => !popoverActive);\n    }\n    if (onClick) {\n      onClick(filterKey);\n    }\n  };\n  const handleClear = () => {\n    if (onRemove) onRemove(filterKey);\n    setPopoverActive(false);\n  };\n  const buttonClasses = classNames(styles.FilterButton, selected && styles.ActiveFilterButton, popoverActive && styles.FocusFilterButton, focused && styles.focusedFilterButton, disabled && styles.disabledFilterButton);\n  const clearButtonClassNames = classNames(styles.PlainButton, styles.clearButton);\n  const toggleButtonClassNames = classNames(styles.PlainButton, styles.ToggleButton);\n  const wrappedLabel = /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Label\n  }, /*#__PURE__*/React.createElement(Text, {\n    variant: mdDown ? 'bodyMd' : 'bodySm',\n    as: \"span\"\n  }, label));\n  const activator = /*#__PURE__*/React.createElement(\"div\", {\n    className: buttonClasses\n  }, /*#__PURE__*/React.createElement(HorizontalStack, {\n    gap: \"0\",\n    wrap: false\n  }, /*#__PURE__*/React.createElement(UnstyledButton, {\n    onFocus: setFocusedTrue,\n    onBlur: setFocusedFalse,\n    onClick: togglePopoverActive,\n    className: toggleButtonClassNames,\n    type: \"button\",\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(HorizontalStack, {\n    wrap: false,\n    align: \"center\",\n    blockAlign: \"center\",\n    gap: \"0\"\n  }, selected ? /*#__PURE__*/React.createElement(React.Fragment, null, wrappedLabel) : /*#__PURE__*/React.createElement(React.Fragment, null, wrappedLabel, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.IconWrapper\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: CaretDownMinor,\n    color: \"base\"\n  }))))), selected ? /*#__PURE__*/React.createElement(UnstyledButton, {\n    onClick: handleClear,\n    className: clearButtonClassNames,\n    type: \"button\",\n    \"aria-label\": i18n.translate('Polaris.FilterPill.clear'),\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.IconWrapper\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: CancelSmallMinor,\n    color: \"base\"\n  }))) : null));\n  const clearButtonMarkup = !hideClearButton && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClear,\n    plain: true,\n    disabled: !selected,\n    textAlign: \"left\"\n  }, i18n.translate('Polaris.FilterPill.clear'));\n  if (disabled) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: elementRef\n  }, /*#__PURE__*/React.createElement(Popover, {\n    active: popoverActive && !disabled,\n    activator: activator,\n    key: filterKey,\n    onClose: togglePopoverActive,\n    preferredAlignment: \"left\",\n    preventCloseOnChildOverlayClick: !closeOnChildOverlayClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PopoverWrapper\n  }, /*#__PURE__*/React.createElement(Popover.Section, null, /*#__PURE__*/React.createElement(VerticalStack, {\n    gap: \"1\"\n  }, filter, clearButtonMarkup)))));\n}\nexport { FilterPill };","map":{"version":3,"names":["React","useRef","useState","useEffect","CaretDownMinor","CancelSmallMinor","useToggle","useBreakpoints","classNames","styles","useI18n","Text","HorizontalStack","UnstyledButton","Icon","Button","Popover","VerticalStack","FilterPill","_ref","filterKey","label","filter","disabled","hideClearButton","selected","initialActive","closeOnChildOverlayClick","onRemove","onClick","i18n","mdDown","elementRef","value","focused","setTrue","setFocusedTrue","setFalse","setFocusedFalse","popoverActive","setPopoverActive","node","current","parent","parentElement","scroll","left","offsetLeft","togglePopoverActive","handleClear","buttonClasses","FilterButton","ActiveFilterButton","FocusFilterButton","focusedFilterButton","disabledFilterButton","clearButtonClassNames","PlainButton","clearButton","toggleButtonClassNames","ToggleButton","wrappedLabel","createElement","className","Label","variant","as","activator","gap","wrap","onFocus","onBlur","type","align","blockAlign","Fragment","IconWrapper","source","color","translate","clearButtonMarkup","plain","textAlign","ref","active","key","onClose","preferredAlignment","preventCloseOnChildOverlayClick","PopoverWrapper","Section"],"sources":["/Users/arina/Documents/concordia-bootcamps/MyFinalProject/frontend/node_modules/@shopify/polaris/build/esm/components/Filters/components/FilterPill/FilterPill.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { CaretDownMinor, CancelSmallMinor } from '@shopify/polaris-icons';\nimport { useToggle } from '../../../../utilities/use-toggle.js';\nimport { useBreakpoints } from '../../../../utilities/breakpoints.js';\nimport { classNames } from '../../../../utilities/css.js';\nimport styles from './FilterPill.scss.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { Text } from '../../../Text/Text.js';\nimport { HorizontalStack } from '../../../HorizontalStack/HorizontalStack.js';\nimport { UnstyledButton } from '../../../UnstyledButton/UnstyledButton.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Button } from '../../../Button/Button.js';\nimport { Popover } from '../../../Popover/Popover.js';\nimport { VerticalStack } from '../../../VerticalStack/VerticalStack.js';\n\nfunction FilterPill({\n  filterKey,\n  label,\n  filter,\n  disabled,\n  hideClearButton,\n  selected,\n  initialActive,\n  closeOnChildOverlayClick,\n  onRemove,\n  onClick\n}) {\n  const i18n = useI18n();\n  const {\n    mdDown\n  } = useBreakpoints();\n  const elementRef = useRef(null);\n  const {\n    value: focused,\n    setTrue: setFocusedTrue,\n    setFalse: setFocusedFalse\n  } = useToggle(false);\n  const [popoverActive, setPopoverActive] = useState(initialActive);\n  useEffect(() => {\n    const node = elementRef.current;\n    if (!node || !popoverActive) {\n      return;\n    }\n    const parent = node.parentElement?.parentElement;\n    if (!parent) {\n      return;\n    }\n    parent.scroll?.({\n      left: node.offsetLeft\n    });\n  }, [elementRef, popoverActive]);\n  const togglePopoverActive = () => {\n    if (filter) {\n      setPopoverActive(popoverActive => !popoverActive);\n    }\n    if (onClick) {\n      onClick(filterKey);\n    }\n  };\n  const handleClear = () => {\n    if (onRemove) onRemove(filterKey);\n    setPopoverActive(false);\n  };\n  const buttonClasses = classNames(styles.FilterButton, selected && styles.ActiveFilterButton, popoverActive && styles.FocusFilterButton, focused && styles.focusedFilterButton, disabled && styles.disabledFilterButton);\n  const clearButtonClassNames = classNames(styles.PlainButton, styles.clearButton);\n  const toggleButtonClassNames = classNames(styles.PlainButton, styles.ToggleButton);\n  const wrappedLabel = /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Label\n  }, /*#__PURE__*/React.createElement(Text, {\n    variant: mdDown ? 'bodyMd' : 'bodySm',\n    as: \"span\"\n  }, label));\n  const activator = /*#__PURE__*/React.createElement(\"div\", {\n    className: buttonClasses\n  }, /*#__PURE__*/React.createElement(HorizontalStack, {\n    gap: \"0\",\n    wrap: false\n  }, /*#__PURE__*/React.createElement(UnstyledButton, {\n    onFocus: setFocusedTrue,\n    onBlur: setFocusedFalse,\n    onClick: togglePopoverActive,\n    className: toggleButtonClassNames,\n    type: \"button\",\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(HorizontalStack, {\n    wrap: false,\n    align: \"center\",\n    blockAlign: \"center\",\n    gap: \"0\"\n  }, selected ? /*#__PURE__*/React.createElement(React.Fragment, null, wrappedLabel) : /*#__PURE__*/React.createElement(React.Fragment, null, wrappedLabel, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.IconWrapper\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: CaretDownMinor,\n    color: \"base\"\n  }))))), selected ? /*#__PURE__*/React.createElement(UnstyledButton, {\n    onClick: handleClear,\n    className: clearButtonClassNames,\n    type: \"button\",\n    \"aria-label\": i18n.translate('Polaris.FilterPill.clear'),\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.IconWrapper\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: CancelSmallMinor,\n    color: \"base\"\n  }))) : null));\n  const clearButtonMarkup = !hideClearButton && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClear,\n    plain: true,\n    disabled: !selected,\n    textAlign: \"left\"\n  }, i18n.translate('Polaris.FilterPill.clear'));\n  if (disabled) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: elementRef\n  }, /*#__PURE__*/React.createElement(Popover, {\n    active: popoverActive && !disabled,\n    activator: activator,\n    key: filterKey,\n    onClose: togglePopoverActive,\n    preferredAlignment: \"left\",\n    preventCloseOnChildOverlayClick: !closeOnChildOverlayClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PopoverWrapper\n  }, /*#__PURE__*/React.createElement(Popover.Section, null, /*#__PURE__*/React.createElement(VerticalStack, {\n    gap: \"1\"\n  }, filter, clearButtonMarkup)))));\n}\n\nexport { FilterPill };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}